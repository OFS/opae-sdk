<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPAE C API: include/opae/mmio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPAE C API
   &#160;<span id="projectnumber">-..</span>
   </div>
   <div id="projectbrief">FPGA API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_beaf459716867cfd62f7e910a709c36d.html">opae</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mmio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for mapping and accessing MMIO space.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="types_8h_source.html">opae/types.h</a>&gt;</code><br />
</div>
<p><a href="include_2opae_2mmio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6df7f745d9b9d47582714fe8e2d1a761"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a6df7f745d9b9d47582714fe8e2d1a761">fpgaWriteMMIO64</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t offset, uint64_t value)</td></tr>
<tr class="separator:a6df7f745d9b9d47582714fe8e2d1a761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011ba900710ddf70c13ca089c4742187"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a011ba900710ddf70c13ca089c4742187">fpgaReadMMIO64</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t offset, uint64_t *value)</td></tr>
<tr class="separator:a011ba900710ddf70c13ca089c4742187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae538bfe7158d1911c5e749bbc063aa3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#ae538bfe7158d1911c5e749bbc063aa3d">fpgaWriteMMIO32</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t offset, uint32_t value)</td></tr>
<tr class="separator:ae538bfe7158d1911c5e749bbc063aa3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81dc89da3e94e26efff1af1eeebb7f5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a81dc89da3e94e26efff1af1eeebb7f5d">fpgaReadMMIO32</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t offset, uint32_t *value)</td></tr>
<tr class="separator:a81dc89da3e94e26efff1af1eeebb7f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf56711df0f234686426c58d8b00cb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a9cf56711df0f234686426c58d8b00cb0">fpgaWriteMMIO512</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t offset, const void *value)</td></tr>
<tr class="separator:a9cf56711df0f234686426c58d8b00cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2903267d37ea5c64522b0addce74da5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a2903267d37ea5c64522b0addce74da5f">fpgaMapMMIO</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num, uint64_t **mmio_ptr)</td></tr>
<tr class="separator:a2903267d37ea5c64522b0addce74da5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8db22506e1fbfd16440c660bfee28f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2opae_2mmio_8h.html#a8c8db22506e1fbfd16440c660bfee28f">fpgaUnmapMMIO</a> (<a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a> handle, uint32_t mmio_num)</td></tr>
<tr class="separator:a8c8db22506e1fbfd16440c660bfee28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for mapping and accessing MMIO space. </p>
<p>Most FPGA accelerators provide access to control registers through memory-mappable address spaces, commonly referred to as "MMIO spaces". This file provides functions to map, unmap, read, and write MMIO spaces.</p>
<p>Note that an accelerator may have multiple MMIO spaces, denoted by the <code>mmio_num</code> argument of the APIs below. The meaning and properties of each MMIO space are up to the accelerator designer. </p>

<p class="definition">Definition in file <a class="el" href="include_2opae_2mmio_8h_source.html">mmio.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6df7f745d9b9d47582714fe8e2d1a761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df7f745d9b9d47582714fe8e2d1a761">&#9670;&nbsp;</a></span>fpgaWriteMMIO64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaWriteMMIO64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write 64 bit value to MMIO space</p>
<p>This function will write to MMIO space of the target object at a specified offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened accelerator resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Byte offset into MMIO space </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value to write (64 bit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

<p class="reference">Referenced by <a class="el" href="n5010-ctl_8c_source.html#l00263">fpga_set_switch()</a>, <a class="el" href="n5010-test_8c_source.html#l00288">fpga_start()</a>, <a class="el" href="n5010-test_8c_source.html#l00312">fpga_stop()</a>, <a class="el" href="n5010-test_8c_source.html#l00476">fpga_test_esram()</a>, <a class="el" href="n5010-test_8c_source.html#l00551">fpga_test_qdr()</a>, and <a class="el" href="hello__afu_8c_source.html#l00094">main()</a>.</p>

</div>
</div>
<a id="a011ba900710ddf70c13ca089c4742187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a011ba900710ddf70c13ca089c4742187">&#9670;&nbsp;</a></span>fpgaReadMMIO64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaReadMMIO64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read 64 bit value from MMIO space</p>
<p>This function will read from MMIO space of the target object at a specified offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened accelerator resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Byte offset into MMIO space </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to memory where read value is returned (64 bit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

<p class="reference">Referenced by <a class="el" href="hello__fpga_8c_source.html#l00262">find_nlb_n3000()</a>, <a class="el" href="n5010-test_8c_source.html#l00274">fpga_banks()</a>, <a class="el" href="n5010-ctl_8c_source.html#l00180">fpga_base()</a>, <a class="el" href="n5010-ctl_8c_source.html#l00246">fpga_dump()</a>, <a class="el" href="n5010-ctl_8c_source.html#l00285">fpga_read_switch_port()</a>, <a class="el" href="n5010-test_8c_source.html#l00415">fpga_test_ddr_directed()</a>, <a class="el" href="n5010-test_8c_source.html#l00365">fpga_test_ddr_prbs()</a>, <a class="el" href="n5010-test_8c_source.html#l00476">fpga_test_esram()</a>, <a class="el" href="n5010-test_8c_source.html#l00626">fpga_test_hbm()</a>, <a class="el" href="n5010-test_8c_source.html#l00551">fpga_test_qdr()</a>, <a class="el" href="n5010-test_8c_source.html#l00334">fpga_wait()</a>, and <a class="el" href="hello__afu_8c_source.html#l00094">main()</a>.</p>

</div>
</div>
<a id="ae538bfe7158d1911c5e749bbc063aa3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae538bfe7158d1911c5e749bbc063aa3d">&#9670;&nbsp;</a></span>fpgaWriteMMIO32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaWriteMMIO32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write 32 bit value to MMIO space</p>
<p>This function will write to MMIO space of the target object at a specified offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened accelerator resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Byte offset into MMIO space </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value to write (32 bit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

<p class="reference">Referenced by <a class="el" href="hello__fpga_8c_source.html#l00314">main()</a>.</p>

</div>
</div>
<a id="a81dc89da3e94e26efff1af1eeebb7f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81dc89da3e94e26efff1af1eeebb7f5d">&#9670;&nbsp;</a></span>fpgaReadMMIO32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaReadMMIO32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read 32 bit value from MMIO space</p>
<p>This function will read from MMIO space of the target object at a specified offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened accelerator resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Byte offset into MMIO space </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Pointer to memory where read value is returned (32 bit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

</div>
</div>
<a id="a9cf56711df0f234686426c58d8b00cb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf56711df0f234686426c58d8b00cb0">&#9670;&nbsp;</a></span>fpgaWriteMMIO512()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaWriteMMIO512 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write 512 bit value to MMIO space</p>
<p>512 bit MMIO writes may not be supported on all platforms.</p>
<p>This function will write to MMIO space of the target object at a specified offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened accelerator resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Byte offset into MMIO space </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Pointer to memory holding value to write (512 bits) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

</div>
</div>
<a id="a2903267d37ea5c64522b0addce74da5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2903267d37ea5c64522b0addce74da5f">&#9670;&nbsp;</a></span>fpgaMapMMIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaMapMMIO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t **&#160;</td>
          <td class="paramname"><em>mmio_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map MMIO space</p>
<p>This function will return a pointer to the specified MMIO space of the target object in process virtual memory, if supported by the target. Some MMIO spaces may be restricted to privileged processes, depending on the used handle and type.</p>
<p>After mapping the respective MMIO space, you can access it through direct pointer operations (observing supported access sizes and alignments of the target platform and accelerator).</p>
<dl class="section note"><dt>Note</dt><dd>Some targets (such as the ASE simulator) do not support memory-mapping of IO register spaces and will not return a pointer to an actually mapped space. Instead, they will return <code>FPGA_NOT_SUPPORTED</code>. Usually, these platforms still allow the application to issue MMIO operations using <a class="el" href="include_2opae_2mmio_8h.html#a81dc89da3e94e26efff1af1eeebb7f5d">fpgaReadMMIO32()</a>, <a class="el" href="include_2opae_2mmio_8h.html#ae538bfe7158d1911c5e749bbc063aa3d">fpgaWriteMMIO32()</a>, fpgeReadMMIO64(), and <a class="el" href="include_2opae_2mmio_8h.html#a6df7f745d9b9d47582714fe8e2d1a761">fpgaWriteMMIO64()</a>.</dd></dl>
<p>If the caller passes in NULL for mmio_ptr, no mapping will be performed, and no virtual address will be returned, though the call will return <code>FPGA_OK</code>. This implies that all accesses will be performed through <a class="el" href="include_2opae_2mmio_8h.html#a81dc89da3e94e26efff1af1eeebb7f5d">fpgaReadMMIO32()</a>, <a class="el" href="include_2opae_2mmio_8h.html#ae538bfe7158d1911c5e749bbc063aa3d">fpgaWriteMMIO32()</a>, fpgeReadMMIO64(), and <a class="el" href="include_2opae_2mmio_8h.html#a6df7f745d9b9d47582714fe8e2d1a761">fpgaWriteMMIO64()</a>. This is the only supported case for ASE.</p>
<p>The number of available MMIO spaces can be retrieved through the num_mmio property (fpgaPropertyGetNumMMIO()).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mmio_ptr</td><td>Pointer to memory where a pointer to the MMIO space will be returned. May be NULL, in which case no pointer is returned. Returned address may be NULL if underlying platform does not support memory mapping for register access. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. FPGA_NO_ACCESS if the process' permissions are not sufficient to map the requested MMIO space. FPGA_NOT_SUPPORTED if platform does not support memory mapped IO. </dd></dl>

<p class="reference">Referenced by <a class="el" href="n5010-ctl_8c_source.html#l00107">fpga_open()</a>, and <a class="el" href="hello__afu_8c_source.html#l00094">main()</a>.</p>

</div>
</div>
<a id="a8c8db22506e1fbfd16440c660bfee28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8db22506e1fbfd16440c660bfee28f">&#9670;&nbsp;</a></span>fpgaUnmapMMIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types__enum_8h.html#a27aaa9bd2d94c9b53602b1a7af49fc6d">fpga_result</a> fpgaUnmapMMIO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4ad40f31195233b629bcde187b0556d5">fpga_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mmio_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unmap MMIO space</p>
<p>This function will unmap a previously mapped MMIO space of the target object, rendering any pointers to it invalid.</p>
<dl class="section note"><dt>Note</dt><dd>This call is only supported by hardware targets, not by ASE simulation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle to previously opened resource </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mmio_num</td><td>Number of MMIO space to access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FPGA_OK on success. FPGA_INVALID_PARAM if any of the supplied parameters is invalid. FPGA_EXCEPTION if an internal exception occurred while trying to access the handle. </dd></dl>

<p class="reference">Referenced by <a class="el" href="n5010-ctl_8c_source.html#l00156">fpga_close()</a>, and <a class="el" href="hello__afu_8c_source.html#l00094">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
