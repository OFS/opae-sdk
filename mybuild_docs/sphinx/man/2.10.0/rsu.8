.\" Man page generated from reStructuredText.
.
.TH "RSU" "8" "Nov 22, 2023" "2.10.0" "OPAE"
.SH NAME
rsu \- FPGA remote system update
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rsu [\-h] [\-d] {bmc,bmcimg,retimer,fpga,sdm,fpgadefault} [PCIE_ADDR]

.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.SS Mode 1: RSU
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rsu bmc \-\-page=(user|factory) [PCIE_ADDR]
rsu retimer [PCIE_ADDR]
rsu fpga \-\-page=(user1|user2|factory) [PCIE_ADDR]
rsu sdm \-\-type=(sr|pr|sr_cancel|pr_cancel) [PCIE_ADDR]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Perform RSU (remote system update) operation on PAC device
given its PCIe address.
An RSU operation sends an instruction to the device to trigger
a power cycle of the card only. This will force reconfiguration
from flash for either BMC, Retimer, SDM, (on devices that support these)
or the FPGA.
.SS Mode 2: Default FPGA Image
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rsu fpgadefault \-\-page=(user1|user2|factory) \-\-fallback=<csv> [PCIE_ADDR]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Set the default FPGA boot sequence. The –page option determines
the primary FPGA boot image. The –fallback option allows a comma\-separated
list of values to specify fallback images.
.SH POSITIONAL ARGUMENTS
.sp
\fB{bmc,bmcimg,retimer,fpga,sdm,fpgadefault}\fP
.sp
type of RSU operation or set Default FPGA Image operation.
.sp
\fBPCIE_ADDR\fP
PCIe address of device to do rsu (e.g. 04:00.0 or 0000:04:00.0)
.SH OPTIONAL ARGUMENTS
.sp
\fB\-h, \-\-help\fP
show this help message and exit
.sp
\fB\-d, \-\-debug\fP
log debug statements
.sp
\fB\-\-force\fP
force rsu operation
.SH EXAMPLE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu bmc \-\-page=user 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Triggers a boot of the BMC image (user page) for the device with PCIe
address 25:00.0.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu bmc \-\-page=factory 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Triggers a factory boot of the BMC image for the device with
PCIe address 25:00.0.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu fpga \-\-page=user2 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Triggers a reconfiguration of the FPGA (user2 page) for the
device with PCIe address 25:00.0.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu \-\-force fpga \-\-page=user2 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Forces a reconfiguration of the FPGA (user2 page) for the
device with PCIe address 25:00.0. Default behavior is to not perform
the rsu operation if DPC (downstream port containment) is not supported
and AER (advanced error reporting) is also not supported. Using –force
changes this behavior to perform rsu operation regardless but may result
in a surprise removal of pci devices which may cause the Linux kernel
to panic.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu fpga \-\-page=factory 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Triggers a factory reconfiguration of the FPGA for the device
with PCIe address 25:00.0.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu sdm \-\-type=sr 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Triggers Static Region key programming for the device with
PCIE address 25:00.0.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# rsu fpgadefault \-\-page=factory \-\-fallback=user1,user2 25:00.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Sets the FPGA boot sequence to factory with fallbacks user1, user2.
.SH AUTHOR
Intel DCG FPT SW
.SH COPYRIGHT
2017 Intel Corporation
.\" Generated by docutils manpage writer.
.
